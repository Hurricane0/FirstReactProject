(this["webpackJsonpmy-first-react"]=this["webpackJsonpmy-first-react"]||[]).push([[3],{297:function(e,n,t){e.exports={selectedPage:"Paginator_selectedPage__seKyI",pagesNumbersBlock:"Paginator_pagesNumbersBlock__2Ygm_"}},298:function(e,n,t){e.exports={wrapper:"UserBlock_wrapper__1qYTe",left_block:"UserBlock_left_block__myPD9",right_block:"UserBlock_right_block__3RUMO",follow_button:"UserBlock_follow_button__jAG7O",avatar:"UserBlock_avatar__1Cozc",username:"UserBlock_username__1weLp",status:"UserBlock_status__32Ms4",country:"UserBlock_country__2Fcfu",city:"UserBlock_city__1fBJI"}},299:function(e,n,t){"use strict";t.r(n);var r=t(26),a=t(27),o=t(29),s=t(28),l=t(30),u=t(0),c=t.n(u),i=t(8),p=t(7),f=t(129),g=t(89),m=t(297),h=t.n(m),d=function(e){for(var n=e.currentPage,t=e.pageSize,r=e.totalUsersCount,a=e.onPageChanged,o=e.portionSize,s=void 0===o?9:o,l=Math.ceil(r/t),i=[],p=1;p<=l;p++)i.push(p);var f=Math.ceil(l/s),m=Object(u.useState)(1),d=Object(g.a)(m,2),k=d[0],_=d[1],b=(k-1)*s+1,v=k*s;return c.a.createElement("div",{className:h.a.pagesNumbersBlock},k>1&&c.a.createElement("button",{onClick:function(){return _(k-1)}},"<"),i.filter((function(e){return e>=b&&e<=v})).map((function(e){return c.a.createElement("span",{key:e,className:n===e?h.a.selectedPage:void 0,onClick:function(){a(e)}},e)})),k<f&&c.a.createElement("button",{onClick:function(){return _(k+1)}},">"))},k=t(39),_=t(11),b=t(42),v=t.n(b),w=t(298),y=t.n(w),P=function(e){return c.a.createElement("div",{className:y.a.wrapper},c.a.createElement("div",{className:y.a.left_block},null!=e.user.photos.small?c.a.createElement(_.b,{to:"/profile/"+e.user.id},c.a.createElement("img",{className:y.a.avatar,src:e.user.photos.small,alt:"UserAvatar"})):c.a.createElement(_.b,{to:"/profile/"+e.user.id},c.a.createElement("img",{className:y.a.avatar,src:v.a,alt:"UserAvatar"})),e.user.followed?c.a.createElement("button",{disabled:e.inFollowingProcess.some((function(n){return n===e.user.id})),key:e.user.id,onClick:function(){e.unfollowThunk(e.user.id)},className:y.a.follow_button,style:{backgroundColor:"#04D91B",boxShadow:"inset 0px -2px 1px #03a013, inset 0px 2px 2px #03a013"}},"Following"):c.a.createElement("button",{disabled:e.inFollowingProcess.some((function(n){return n===e.user.id})),key:e.user.id,onClick:function(){e.followThunk(e.user.id)},className:y.a.follow_button,style:{backgroundColor:"#fec92d",boxShadow:"0px 2px 0px #cea321"}},"Follow")),c.a.createElement("div",{className:y.a.right_block},c.a.createElement("span",{className:y.a.username},e.user.name),c.a.createElement("span",{className:y.a.status},"Some status..."),c.a.createElement("span",{className:y.a.country},"Ukraine"),c.a.createElement("span",{className:y.a.city},"Kiev")))},E=function(e){var n=e.currentPage,t=e.onPageChanged,r=e.users,a=e.inFollowingProcess,o=e.followThunk,s=e.unfollowThunk,l=e.isFetching,u=e.pageSize,i=e.totalUsersCount;return l?c.a.createElement(k.a,null):c.a.createElement("div",null,c.a.createElement(d,{pageSize:u,totalUsersCount:i,currentPage:n,onPageChanged:t}),r.map((function(e){return c.a.createElement("div",{key:e.id},c.a.createElement(P,{inFollowingProcess:a,user:e,followThunk:o,unfollowThunk:s}))})))};function C(e,n){return e===n}function U(e,n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,a=0;a<r;a++)if(!e(n[a],t[a]))return!1;return!0}function F(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return n}var N=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=0,s=r.pop(),l=F(r),u=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(t)),c=e((function(){for(var e=[],n=l.length,t=0;t<n;t++)e.push(l[t].apply(null,arguments));return u.apply(null,e)}));return c.resultFunc=s,c.dependencies=l,c.recomputations=function(){return o},c.resetRecomputations=function(){return o=0},c}}((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C,t=null,r=null;return function(){return U(n,t,arguments)||(r=e.apply(null,arguments)),t=arguments,r}}));var x=N((function(e){return e.usersPage.users}),(function(e){return e})),B=function(e){return e.usersPage.totalUsersCount},S=function(e){return e.usersPage.pageSize},T=function(e){return e.usersPage.currentPage},j=function(e){return e.usersPage.isFetching},O=function(e){return e.usersPage.inFollowingProcess},z=function(e){function n(){var e,t;Object(r.a)(this,n);for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return(t=Object(o.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(l)))).onPageChanged=function(e){t.props.setCurrentPageUsersThunk(e,t.props.pageSize)},t}return Object(l.a)(n,e),Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunk(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return!this.props.totalUsersCount||this.props.isFetching?c.a.createElement(k.a,null):c.a.createElement(E,Object.assign({},this.props,{onPageChanged:this.onPageChanged}))}}]),n}(c.a.Component);n.default=Object(p.d)(Object(i.b)((function(e){return{users:x(e),totalUsersCount:B(e),pageSize:S(e),currentPage:T(e),isFetching:j(e),inFollowingProcess:O(e)}}),{follow:f.b,unfollow:f.h,toggleIsFetching:f.g,toggleInFollowingProcess:f.f,getUsersThunk:f.d,setCurrentPageUsersThunk:f.e,followThunk:f.c,unfollowThunk:f.i}))(z)}}]);
//# sourceMappingURL=3.5bc21a9d.chunk.js.map